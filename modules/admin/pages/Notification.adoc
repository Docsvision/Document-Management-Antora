[[ariaid-title1]]
== Настройка уведомлений

В приложении [.dfn .term]_Управление документами_ предусмотрена возможность отправки ряда уведомлений по электронной почте. Отправка сообщений осуществляется бизнес-процессами (список БП приведен в пункте xref:BP_DocManagement_templates.adoc[Бизнес-процессы]).

[NOTE]
====
[.note__title]#Прим.:# Механизма обновления бизнес-процесса отправки уведомлений не предусмотрено. При необходимости модификации рекомендуется разработать собственный бизнес-процесс на основе поставляемого.
====

В приложении могут быть настроены следующие уведомления:

* xref:task_Notifications_members_start_acceptance.adoc[уведомление о начале приемки задания];
* xref:task_Notifications_author_reject.adoc[уведомление Автора об отклонении задания];
* xref:task_Notifications_author_finish.adoc[уведомление Автора о завершении задания];
* xref:task_Notifications_author_grtask_finish.adoc[уведомление Автора о завершении группы заданий].

Отправка уведомлений доступна после выполнения ряда настроек:

. В разделе [.keyword .wintitle]*Управление процессами* программы [.dfn .term]_Консоль настройки Docsvision_ должны быть настроены параметры отправки электронной почты (см. раздел «Настройка почты» в документе [.ph]#[.dfn .term]_Модуль «Docsvision 5. Управление процессами». Руководство администратора_#).
. БП «ПК Мониторинг почты» должен быть запущен (см. раздел «Запуск БП «ПК Мониторинг почты»» в документе [.ph]#[.dfn .term]_Модуль «Docsvision 5. Базовые объекты». Руководство администратора_#);
. В [.dfn .term]_Справочнике сотрудников_ у сотрудника должен быть указан [.ph .uicontrol]*E-mail* (указан адрес электронной почты, на который будут отправляться уведомления);
. Должны быть настроены форматы ссылок для открытия заданий в Windows-клиенте и, если требуется, Web-клиенте (см. раздел «Настройка общих параметров маршрутизации» в документе [.ph]#[.dfn .term]_Модуль «Docsvision 5. Базовые объекты». Руководство администратора_#).

=== Настройка шаблона уведомлений

Администратор может настроить требуемым образом шаблон для оповещений, отправляемых по электронной почте.

Шаблон настраивается с помощью XSLT преобразования. Исходный текст стандартного преобразования доступен по ссылке, приведенной в xref:XsltTemplate_forauthor.adoc[Приложение B. XSLT-преобразование и описание исходных данных для дополнительного почтового уведомления].

Чтобы настроить собственный шаблон уведомления, выполните следующие действия:

. Откройте [.dfn .term]_Справочник видов карточек_.
. Выберите тип карточек «Задание» и вид задания, настройки которого нужно изменить.
. Перейдите на вкладку [.keyword]*Настройки почтовых уведомлений*.
+
image::img/taskMailTemplate.png[[.fig--title-label]##Рис. 1. ##Вкладка "Настройки почтовых уведомлений"]
. Чтобы изменить стандартный шаблон почтовых уведомлений:
[loweralpha]
.. Нажмите кнопку image:img/Buttons/cSub_treedots.png[image] в поле [.ph .uicontrol]*Дополнительные почтовые уведомления*. Будет открыт редактор кода.
.. Измените XSLT код и нажмите кнопку [.ph .uicontrol]*ОК*.
+
Если код XSLT-преобразования отсутствует, используется стандартный шаблон.
. Установите флаг [.ph .uicontrol]*Отображать связанный документ в письме*, чтобы в оповещения добавлялись атрибуты связанного с заданием документа. Настройка шаблона для блока с информацией о документа, рассмотрена в документе [.ph]#[.dfn .term]_Модуль «Docsvision 5. Базовые объекты». Руководство администратора_#, пункт «Настройка отображения атрибутов документа в письме с заданием».
. Сохраните изменения в Справочнике видов карточек.

* *xref:../topics/task_Notifications_members_start_acceptance.adoc[Уведомление о начале приемки задания]* +
* *xref:../topics/task_Notifications_author_reject.adoc[Уведомление Автора об отклонении задания]* +
* *xref:../topics/task_Notifications_author_finish.adoc[Уведомление Автора о завершении задания]* +
* *xref:../topics/task_Notifications_author_grtask_finish.adoc[Уведомление Автора о завершении группы заданий]* +

*На уровень выше:* xref:../topics/Administrator_functions.adoc[Функции администратора]
