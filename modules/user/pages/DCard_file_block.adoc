= Блокирование и разблокирование файлов

В системе _{dv}_ учтен распространенный сценарий работы с документами, при котором файл зачастую изменяется вне системы документооборота, но впоследствии должен быть возвращен в карточку. Вывод файла вовне в рамках карточки документа называется _блокировкой_.

При взятии основного файла, вложенного в карточку, в работу, происходит его блокировка (после этого он может быть открыт другими пользователями только для чтения). В данном режиме файл может быть изменен только тем пользователем, который ранее заблокировал этот файл и сохранил его где-либо на компьютере или в сети. Для остальных пользователей {dv} данный файл будет доступен из карточки в режиме только для чтения. Если к карточке приложено несколько основных файлов, выгрузка из системы и блокирование может выполняться как для отдельно взятого файла, так и группы файлов. Выбор выгружаемых файлов производится при помощи их выделения. При выгрузке все файлы будут заблокированы.

После того, как с файлом проделаны все необходимые изменения, он может быть возвращен в систему, то есть разблокирован. При разблокировании можно выбрать не только измененный файл с тем же форматом и именем, но и любой другой файл, с отличным от исходного файла форматом и именем.

При выгрузке и загрузке файла создается новая версия. Для работы с версиями используется вкладка *Версии*.

Чтобы заблокировать файлы, выполните следующие действия:

. Чтобы заблокировать файл, выполните любое из действий:
* нажмите на ленте карточки на кнопку image:buttons/file_block.png[image]**Заблокировать для работы##;
* правой клавишей мыши вызовите контекстное меню, затем выберите команду *Заблокировать для работы*;
* на вкладке *Версии* выделите требуемую версию, затем нажмите на кнопку image:buttons/file_block.png[image]**Заблокировать для работы## панели инструментов вкладки.
. Чтобы вернуть измененный файл в систему, выполните любое из действий:
* нажмите на ленте карточки на кнопку image:buttons/file_return_from_block.png[image] *Вернуть с блокировки*;
* правой клавишей мыши вызовите контекстное меню, затем выберите команду *Вернуть с блокировки*;
* на вкладке *Версии* выделите требуемую версию, затем нажмите на кнопку image:buttons/file_return_from_block.png[image] *Вернуть с блокировки* панели инструментов вкладки.
+
Будет открыто окно для выбора новой версии или другого файла, которым необходимо заменить прежний файл в карточке документа. Название и формат нового добавленного файла (включая копию файла) будет отображаться на вкладке *Версии* карточки.
. Для разблокирования файла без внесения в него изменений выполните любое из действий:
* нажмите на ленте карточки на кнопку image:buttons/file_unblock.png[image] *Отменить блокировку*) правой клавишей мыши вызовите контекстное меню, затем выберите команду *Отменить блокировку*;
* на вкладке *Версии* выделите требуемую версию, затем нажмите на кнопку image:buttons/file_unblock.png[image] *Отменить блокировку* панели инструментов вкладки.
+
Аналогично производится возврат с блокировки при выгрузке группы файлов.
